{"ast":null,"code":"var _jsxFileName = \"D:\\\\Legal Assistant for Indian Laws\\\\client\\\\src\\\\components\\\\Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { Box, TextField, Button, Typography, Paper, IconButton, CircularProgress, Chip, Menu, MenuItem, InputAdornment, Tooltip, Fade, Collapse, Divider, useTheme } from '@mui/material';\nimport SendIcon from '@mui/icons-material/Send';\nimport MicIcon from '@mui/icons-material/Mic';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\nimport HelpOutlineIcon from '@mui/icons-material/HelpOutline';\nimport ContentCopyIcon from '@mui/icons-material/ContentCopy';\nimport BookmarkIcon from '@mui/icons-material/Bookmark';\nimport BookmarkBorderIcon from '@mui/icons-material/BookmarkBorder';\nimport AttachFileIcon from '@mui/icons-material/AttachFile';\nimport { useLocation } from 'react-router-dom';\nimport { processLegalQuery } from '../services/queryService';\nimport { extractCitationReferences, enhanceTextWithCitations } from '../services/citationService';\nimport CitationDisplay from './CitationDisplay';\nimport { trackQuery } from '../services/analyticsService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Chat() {\n  _s();\n  const [message, setMessage] = useState('');\n  const [chat, setChat] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isRecording, setIsRecording] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [suggestedQueries, setSuggestedQueries] = useState([\n  // Family Law\n  \"What are the grounds for divorce in India?\", \"How can I apply for child custody in India?\", \"What is the procedure for legal adoption in India?\", \"Explain the Hindu Marriage Act provisions\", \"Muslim personal law on marriage and divorce\", \"How are maintenance and alimony calculated?\",\n  // Property Law\n  \"Explain property inheritance laws in India\", \"What are my tenant rights under Rent Control Act?\", \"How to transfer property ownership after death?\", \"Legal procedure for property registration in India\", \"What is RERA Act and how does it protect homebuyers?\",\n  // Criminal Law\n  \"What is the process for filing an FIR?\", \"What are my rights if arrested in India?\", \"Explain the bail process in criminal cases\", \"What constitutes defamation under Indian law?\", \"Penalties for cybercrime in India\",\n  // Consumer Protection\n  \"Consumer rights under Consumer Protection Act\", \"How to file a consumer complaint against a company?\", \"What remedies are available for defective products?\", \"E-commerce return policy regulations in India\", \"Insurance claim rejection - legal remedies\",\n  // Constitutional & Fundamental Rights\n  \"What are my fundamental rights under the Constitution?\", \"Right to Information (RTI) filing procedure\", \"Public Interest Litigation (PIL) guidelines\", \"Right to Education Act provisions\",\n  // Labor & Employment\n  \"Employee rights under Labor Laws in India\", \"Legal working hours and overtime regulations\", \"Maternity leave benefits under Indian law\", \"Sexual harassment at workplace - legal protections\",\n  // Business & Corporate\n  \"How to register a startup in India?\", \"GST registration and compliance requirements\", \"Legal requirements for foreign investments in India\", \"Trademark registration process in India\",\n  // Others\n  \"Procedure for making a legally valid Will\", \"How to apply for legal aid in India?\", \"Medical negligence claims in India\", \"Environmental laws for pollution control\"]);\n  const [savedMessages, setSavedMessages] = useState([]);\n  const chatEndRef = useRef(null);\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const fileInputRef = useRef(null);\n  const theme = useTheme();\n  const location = useLocation();\n\n  // Process the query\n  const processQuery = useCallback(async text => {\n    try {\n      return await processLegalQuery(text);\n    } catch (error) {\n      console.error(\"Error in process query:\", error);\n      throw error;\n    }\n  }, []);\n\n  // Handle initial query from navigation state\n  useEffect(() => {\n    var _location$state;\n    if ((_location$state = location.state) !== null && _location$state !== void 0 && _location$state.initialQuery) {\n      const initialQuery = location.state.initialQuery;\n      // Set message instead of sending it immediately to give user control\n      setMessage(initialQuery);\n      // Clean up navigation state\n      window.history.replaceState({}, document.title);\n    }\n  }, [location.state]);\n\n  // Scroll to bottom of chat\n  useEffect(() => {\n    var _chatEndRef$current;\n    (_chatEndRef$current = chatEndRef.current) === null || _chatEndRef$current === void 0 ? void 0 : _chatEndRef$current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [chat]);\n  const handleMenuOpen = event => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n  const handleCopyChat = () => {\n    const chatText = chat.map(msg => `${msg.sender === 'user' ? 'You' : 'Legal Assistant'}: ${msg.text}`).join('\\n\\n');\n    navigator.clipboard.writeText(chatText);\n    handleMenuClose();\n  };\n  const handleClearChat = () => {\n    setChat([]);\n    handleMenuClose();\n  };\n  const handleFileUpload = e => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = event => {\n        // In a real app, you would send this to your backend for processing\n        setMessage(`Analyzing document: ${file.name}...`);\n      };\n      reader.readAsText(file);\n    }\n  };\n  const handleSuggestedQuery = query => {\n    setMessage(query);\n  };\n  const toggleSaveMessage = index => {\n    const updatedChat = [...chat];\n    updatedChat[index].saved = !updatedChat[index].saved;\n    setChat(updatedChat);\n\n    // Update saved messages list\n    if (updatedChat[index].saved) {\n      setSavedMessages([...savedMessages, updatedChat[index]]);\n    } else {\n      setSavedMessages(savedMessages.filter(msg => msg !== chat[index]));\n    }\n  };\n  const handleSend = async () => {\n    if (message.trim() === '') return;\n\n    // Add user message to chat\n    const userMessage = {\n      text: message,\n      sender: 'user',\n      timestamp: new Date()\n    };\n    setChat(prevChat => [...prevChat, userMessage]);\n    const userInput = message;\n    setMessage('');\n    setIsLoading(true);\n\n    // Track query start time\n    const startTime = new Date();\n    try {\n      // Send to backend API\n      const response = await processQuery(userInput);\n\n      // Extract citation references from the response\n      const citationRefs = extractCitationReferences(response);\n\n      // Enhance text with citation markers\n      const {\n        enhancedText,\n        citations\n      } = enhanceTextWithCitations(response, citationRefs);\n\n      // Add response to chat with citations\n      setChat(prevChat => [...prevChat, {\n        text: enhancedText,\n        sender: 'bot',\n        timestamps: new Date(),\n        citations: citations,\n        saved: false\n      }]);\n\n      // Track analytics data\n      trackQuery({\n        query: userInput,\n        responseTime: new Date() - startTime,\n        citationsCount: citations.length,\n        citationsSources: citations.map(c => `${c.actName}, Section ${c.sectionNumber}`),\n        timestamp: new Date().toISOString(),\n        queryLength: userInput.length,\n        category: detectQueryCategory(userInput)\n      });\n    } catch (error) {\n      console.error('Error processing message:', error);\n      setChat(prevChat => [...prevChat, {\n        text: 'Sorry, I encountered an error processing your request.',\n        sender: 'bot',\n        error: true,\n        timestamp: new Date()\n      }]);\n\n      // Track failed query\n      trackQuery({\n        query: userInput,\n        error: true,\n        timestamp: new Date().toISOString(),\n        responseTime: new Date() - startTime\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Simple function to detect query category based on keywords\n  const detectQueryCategory = query => {\n    const lowercaseQuery = query.toLowerCase();\n    if (lowercaseQuery.includes('divorce') || lowercaseQuery.includes('marriage') || lowercaseQuery.includes('custody') || lowercaseQuery.includes('alimony')) {\n      return 'Family Law';\n    } else if (lowercaseQuery.includes('property') || lowercaseQuery.includes('land') || lowercaseQuery.includes('rent') || lowercaseQuery.includes('tenant')) {\n      return 'Property Law';\n    } else if (lowercaseQuery.includes('theft') || lowercaseQuery.includes('murder') || lowercaseQuery.includes('bail') || lowercaseQuery.includes('police')) {\n      return 'Criminal Law';\n    } else if (lowercaseQuery.includes('constitution') || lowercaseQuery.includes('rights') || lowercaseQuery.includes('fundamental')) {\n      return 'Constitutional Law';\n    } else if (lowercaseQuery.includes('company') || lowercaseQuery.includes('business') || lowercaseQuery.includes('contract')) {\n      return 'Corporate Law';\n    } else if (lowercaseQuery.includes('refund') || lowercaseQuery.includes('product') || lowercaseQuery.includes('service') || lowercaseQuery.includes('warranty')) {\n      return 'Consumer Protection';\n    }\n    return 'General Legal';\n  };\n\n  // Recording functionality remains the same\n  const startRecording = () => {\n    console.log(\"Start recording\");\n    setIsRecording(true);\n  };\n  const stopRecording = () => {\n    console.log(\"Stop recording\");\n    setIsRecording(false);\n  };\n  const formatTime = date => {\n    return new Date(date).toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      flexDirection: 'column',\n      height: 'calc(100vh - 64px)',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 2,\n        borderBottom: 1,\n        borderColor: 'divider',\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        children: \"Legal Assistant Chat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: handleMenuOpen,\n        children: /*#__PURE__*/_jsxDEV(MoreVertIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Menu, {\n        anchorEl: anchorEl,\n        open: Boolean(anchorEl),\n        onClose: handleMenuClose,\n        children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n          onClick: handleCopyChat,\n          children: [/*#__PURE__*/_jsxDEV(ContentCopyIcon, {\n            fontSize: \"small\",\n            sx: {\n              mr: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this), \"Copy Chat\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          onClick: handleClearChat,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            color: \"error\",\n            children: \"Clear Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 2,\n        mb: 2,\n        maxHeight: chat.length > 0 ? '150px' : '200px',\n        overflowY: 'auto',\n        borderBottom: 1,\n        borderColor: 'divider'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle1\",\n        gutterBottom: true,\n        children: \"Suggested Legal Queries:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          flexWrap: 'wrap',\n          gap: 1\n        },\n        children: suggestedQueries.map((query, index) => /*#__PURE__*/_jsxDEV(Chip, {\n          label: query,\n          onClick: () => handleSuggestedQuery(query),\n          clickable: true,\n          variant: \"outlined\",\n          sx: {\n            mb: 1\n          }\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        flexDirection: 'column',\n        flexGrow: 1,\n        overflow: 'auto',\n        p: 2,\n        gap: 2\n      },\n      children: [chat.map((msg, index) => /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          flexDirection: 'column',\n          alignSelf: msg.sender === 'user' ? 'flex-end' : 'flex-start',\n          maxWidth: '80%',\n          position: 'relative'\n        },\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: msg.sender === 'user' ? 0 : 1,\n          sx: {\n            p: 2,\n            borderRadius: 2,\n            backgroundColor: msg.sender === 'user' ? theme.palette.primary.light : theme.palette.background.paper,\n            color: msg.sender === 'user' ? theme.palette.primary.contrastText : 'inherit',\n            border: msg.sender === 'user' ? 'none' : `1px solid ${theme.palette.divider}`\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              mb: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              color: msg.sender === 'user' ? 'inherit' : 'text.secondary',\n              children: msg.sender === 'user' ? 'You' : 'Legal Assistant'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 17\n            }, this), msg.timestamp && /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              color: msg.sender === 'user' ? 'inherit' : 'text.secondary',\n              children: formatTime(msg.timestamp)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            children: msg.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 15\n          }, this), msg.error && /*#__PURE__*/_jsxDEV(Typography, {\n            color: \"error\",\n            variant: \"caption\",\n            sx: {\n              mt: 1,\n              display: 'block'\n            },\n            children: \"Please try reformulating your question.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 17\n          }, this), msg.citations && msg.citations.length > 0 && /*#__PURE__*/_jsxDEV(CitationDisplay, {\n            citations: msg.citations\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 17\n          }, this), msg.sender === 'bot' && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              justifyContent: 'flex-end',\n              mt: 1,\n              opacity: 0.7,\n              '&:hover': {\n                opacity: 1\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"Copy response\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                size: \"small\",\n                onClick: () => navigator.clipboard.writeText(msg.text),\n                children: /*#__PURE__*/_jsxDEV(ContentCopyIcon, {\n                  fontSize: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: msg.saved ? \"Unsave message\" : \"Save message\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                size: \"small\",\n                onClick: () => toggleSaveMessage(index),\n                color: msg.saved ? \"primary\" : \"default\",\n                children: msg.saved ? /*#__PURE__*/_jsxDEV(BookmarkIcon, {\n                  fontSize: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 36\n                }, this) : /*#__PURE__*/_jsxDEV(BookmarkBorderIcon, {\n                  fontSize: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 72\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 11\n      }, this)), isLoading && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: 2,\n          alignSelf: 'flex-start'\n        },\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 1,\n          sx: {\n            p: 2,\n            borderRadius: 2,\n            display: 'flex',\n            alignItems: 'center',\n            gap: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            children: \"Processing your request...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: chatEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 2,\n        borderTop: 1,\n        borderColor: 'divider',\n        backgroundColor: theme.palette.background.paper\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          gap: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          variant: \"outlined\",\n          value: message,\n          onChange: e => setMessage(e.target.value),\n          placeholder: \"Type your legal question...\",\n          onKeyPress: e => e.key === 'Enter' && handleSend(),\n          InputProps: {\n            endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n              position: \"end\",\n              children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n                title: \"Attach Document\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  edge: \"end\",\n                  onClick: () => {\n                    var _fileInputRef$current;\n                    return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n                  },\n                  children: /*#__PURE__*/_jsxDEV(AttachFileIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 477,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                ref: fileInputRef,\n                style: {\n                  display: 'none'\n                },\n                accept: \".pdf,.doc,.docx,.txt\",\n                onChange: handleFileUpload\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 17\n            }, this)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          color: isRecording ? \"secondary\" : \"primary\",\n          onClick: isRecording ? stopRecording : startRecording,\n          children: /*#__PURE__*/_jsxDEV(MicIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          endIcon: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 22\n          }, this),\n          onClick: handleSend,\n          disabled: isLoading || message.trim() === '',\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          alignItems: 'center',\n          mt: 1,\n          justifyContent: 'space-between'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"caption\",\n          color: \"text.secondary\",\n          sx: {\n            display: 'flex',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(HelpOutlineIcon, {\n            fontSize: \"small\",\n            sx: {\n              mr: 0.5\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 509,\n            columnNumber: 13\n          }, this), \"Ask any legal question about Indian law\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Chip, {\n          label: \"AI Powered\",\n          size: \"small\",\n          color: \"primary\",\n          variant: \"outlined\",\n          sx: {\n            height: 24\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 455,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 280,\n    columnNumber: 5\n  }, this);\n}\n_s(Chat, \"DgMGH3RSeyk+jisq/3WxsUu4cRc=\", false, function () {\n  return [useTheme, useLocation];\n});\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","Box","TextField","Button","Typography","Paper","IconButton","CircularProgress","Chip","Menu","MenuItem","InputAdornment","Tooltip","Fade","Collapse","Divider","useTheme","SendIcon","MicIcon","MoreVertIcon","HelpOutlineIcon","ContentCopyIcon","BookmarkIcon","BookmarkBorderIcon","AttachFileIcon","useLocation","processLegalQuery","extractCitationReferences","enhanceTextWithCitations","CitationDisplay","trackQuery","jsxDEV","_jsxDEV","Chat","_s","message","setMessage","chat","setChat","isLoading","setIsLoading","isRecording","setIsRecording","anchorEl","setAnchorEl","suggestedQueries","setSuggestedQueries","savedMessages","setSavedMessages","chatEndRef","mediaRecorderRef","audioChunksRef","fileInputRef","theme","location","processQuery","text","error","console","_location$state","state","initialQuery","window","history","replaceState","document","title","_chatEndRef$current","current","scrollIntoView","behavior","handleMenuOpen","event","currentTarget","handleMenuClose","handleCopyChat","chatText","map","msg","sender","join","navigator","clipboard","writeText","handleClearChat","handleFileUpload","e","file","target","files","reader","FileReader","onload","name","readAsText","handleSuggestedQuery","query","toggleSaveMessage","index","updatedChat","saved","filter","handleSend","trim","userMessage","timestamp","Date","prevChat","userInput","startTime","response","citationRefs","enhancedText","citations","timestamps","responseTime","citationsCount","length","citationsSources","c","actName","sectionNumber","toISOString","queryLength","category","detectQueryCategory","lowercaseQuery","toLowerCase","includes","startRecording","log","stopRecording","formatTime","date","toLocaleTimeString","hour","minute","sx","display","flexDirection","height","position","children","p","borderBottom","borderColor","justifyContent","alignItems","variant","fileName","_jsxFileName","lineNumber","columnNumber","onClick","open","Boolean","onClose","fontSize","mr","color","mb","maxHeight","overflowY","gutterBottom","flexWrap","gap","label","clickable","flexGrow","overflow","alignSelf","maxWidth","elevation","borderRadius","backgroundColor","palette","primary","light","background","paper","contrastText","border","divider","mt","opacity","size","ref","borderTop","fullWidth","value","onChange","placeholder","onKeyPress","key","InputProps","endAdornment","edge","_fileInputRef$current","click","type","style","accept","endIcon","disabled","_c","$RefreshReg$"],"sources":["D:/Legal Assistant for Indian Laws/client/src/components/Chat.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { \r\n  Box, \r\n  TextField, \r\n  Button, \r\n  Typography, \r\n  Paper, \r\n  IconButton,\r\n  CircularProgress,\r\n  Chip,\r\n  Menu,\r\n  MenuItem,\r\n  InputAdornment,\r\n  Tooltip,\r\n  Fade,\r\n  Collapse,\r\n  Divider,\r\n  useTheme\r\n} from '@mui/material';\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport MicIcon from '@mui/icons-material/Mic';\r\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\r\nimport HelpOutlineIcon from '@mui/icons-material/HelpOutline';\r\nimport ContentCopyIcon from '@mui/icons-material/ContentCopy';\r\nimport BookmarkIcon from '@mui/icons-material/Bookmark';\r\nimport BookmarkBorderIcon from '@mui/icons-material/BookmarkBorder';\r\nimport AttachFileIcon from '@mui/icons-material/AttachFile';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { processLegalQuery } from '../services/queryService';\r\nimport { extractCitationReferences, enhanceTextWithCitations } from '../services/citationService';\r\nimport CitationDisplay from './CitationDisplay';\r\nimport { trackQuery } from '../services/analyticsService';\r\n\r\nfunction Chat() {\r\n  const [message, setMessage] = useState('');\r\n  const [chat, setChat] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [suggestedQueries, setSuggestedQueries] = useState([\r\n    // Family Law\r\n    \"What are the grounds for divorce in India?\",\r\n    \"How can I apply for child custody in India?\",\r\n    \"What is the procedure for legal adoption in India?\",\r\n    \"Explain the Hindu Marriage Act provisions\",\r\n    \"Muslim personal law on marriage and divorce\",\r\n    \"How are maintenance and alimony calculated?\",\r\n    \r\n    // Property Law\r\n    \"Explain property inheritance laws in India\",\r\n    \"What are my tenant rights under Rent Control Act?\",\r\n    \"How to transfer property ownership after death?\",\r\n    \"Legal procedure for property registration in India\",\r\n    \"What is RERA Act and how does it protect homebuyers?\",\r\n    \r\n    // Criminal Law\r\n    \"What is the process for filing an FIR?\",\r\n    \"What are my rights if arrested in India?\",\r\n    \"Explain the bail process in criminal cases\",\r\n    \"What constitutes defamation under Indian law?\",\r\n    \"Penalties for cybercrime in India\",\r\n    \r\n    // Consumer Protection\r\n    \"Consumer rights under Consumer Protection Act\",\r\n    \"How to file a consumer complaint against a company?\",\r\n    \"What remedies are available for defective products?\",\r\n    \"E-commerce return policy regulations in India\",\r\n    \"Insurance claim rejection - legal remedies\",\r\n    \r\n    // Constitutional & Fundamental Rights\r\n    \"What are my fundamental rights under the Constitution?\",\r\n    \"Right to Information (RTI) filing procedure\",\r\n    \"Public Interest Litigation (PIL) guidelines\",\r\n    \"Right to Education Act provisions\",\r\n    \r\n    // Labor & Employment\r\n    \"Employee rights under Labor Laws in India\",\r\n    \"Legal working hours and overtime regulations\",\r\n    \"Maternity leave benefits under Indian law\",\r\n    \"Sexual harassment at workplace - legal protections\",\r\n    \r\n    // Business & Corporate\r\n    \"How to register a startup in India?\",\r\n    \"GST registration and compliance requirements\",\r\n    \"Legal requirements for foreign investments in India\",\r\n    \"Trademark registration process in India\",\r\n    \r\n    // Others\r\n    \"Procedure for making a legally valid Will\",\r\n    \"How to apply for legal aid in India?\",\r\n    \"Medical negligence claims in India\",\r\n    \"Environmental laws for pollution control\"\r\n  ]);\r\n  const [savedMessages, setSavedMessages] = useState([]);\r\n  const chatEndRef = useRef(null);\r\n  const mediaRecorderRef = useRef(null);\r\n  const audioChunksRef = useRef([]);\r\n  const fileInputRef = useRef(null);\r\n  const theme = useTheme();\r\n  const location = useLocation();\r\n  \r\n  // Process the query\r\n  const processQuery = useCallback(async (text) => {\r\n    try {\r\n      return await processLegalQuery(text);\r\n    } catch (error) {\r\n      console.error(\"Error in process query:\", error);\r\n      throw error;\r\n    }\r\n  }, []);\r\n\r\n  // Handle initial query from navigation state\r\n  useEffect(() => {\r\n    if (location.state?.initialQuery) {\r\n      const initialQuery = location.state.initialQuery;\r\n      // Set message instead of sending it immediately to give user control\r\n      setMessage(initialQuery);\r\n      // Clean up navigation state\r\n      window.history.replaceState({}, document.title);\r\n    }\r\n  }, [location.state]);\r\n\r\n  // Scroll to bottom of chat\r\n  useEffect(() => {\r\n    chatEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [chat]);\r\n\r\n  const handleMenuOpen = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleCopyChat = () => {\r\n    const chatText = chat.map(msg => `${msg.sender === 'user' ? 'You' : 'Legal Assistant'}: ${msg.text}`).join('\\n\\n');\r\n    navigator.clipboard.writeText(chatText);\r\n    handleMenuClose();\r\n  };\r\n\r\n  const handleClearChat = () => {\r\n    setChat([]);\r\n    handleMenuClose();\r\n  };\r\n\r\n  const handleFileUpload = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = (event) => {\r\n        // In a real app, you would send this to your backend for processing\r\n        setMessage(`Analyzing document: ${file.name}...`);\r\n      };\r\n      reader.readAsText(file);\r\n    }\r\n  };\r\n\r\n  const handleSuggestedQuery = (query) => {\r\n    setMessage(query);\r\n  };\r\n\r\n  const toggleSaveMessage = (index) => {\r\n    const updatedChat = [...chat];\r\n    updatedChat[index].saved = !updatedChat[index].saved;\r\n    setChat(updatedChat);\r\n    \r\n    // Update saved messages list\r\n    if (updatedChat[index].saved) {\r\n      setSavedMessages([...savedMessages, updatedChat[index]]);\r\n    } else {\r\n      setSavedMessages(savedMessages.filter(msg => msg !== chat[index]));\r\n    }\r\n  };\r\n\r\n  const handleSend = async () => {\r\n    if (message.trim() === '') return;\r\n    \r\n    // Add user message to chat\r\n    const userMessage = { text: message, sender: 'user', timestamp: new Date() };\r\n    setChat(prevChat => [...prevChat, userMessage]);\r\n    const userInput = message;\r\n    setMessage('');\r\n    setIsLoading(true);\r\n    \r\n    // Track query start time\r\n    const startTime = new Date();\r\n    \r\n    try {\r\n      // Send to backend API\r\n      const response = await processQuery(userInput);\r\n      \r\n      // Extract citation references from the response\r\n      const citationRefs = extractCitationReferences(response);\r\n      \r\n      // Enhance text with citation markers\r\n      const { enhancedText, citations } = enhanceTextWithCitations(response, citationRefs);\r\n      \r\n      // Add response to chat with citations\r\n      setChat(prevChat => [...prevChat, { \r\n        text: enhancedText, \r\n        sender: 'bot',\r\n        timestamps: new Date(),\r\n        citations: citations,\r\n        saved: false\r\n      }]);\r\n      \r\n      // Track analytics data\r\n      trackQuery({\r\n        query: userInput,\r\n        responseTime: new Date() - startTime,\r\n        citationsCount: citations.length,\r\n        citationsSources: citations.map(c => `${c.actName}, Section ${c.sectionNumber}`),\r\n        timestamp: new Date().toISOString(),\r\n        queryLength: userInput.length,\r\n        category: detectQueryCategory(userInput)\r\n      });\r\n    } catch (error) {\r\n      console.error('Error processing message:', error);\r\n      setChat(prevChat => [...prevChat, { \r\n        text: 'Sorry, I encountered an error processing your request.', \r\n        sender: 'bot',\r\n        error: true,\r\n        timestamp: new Date()\r\n      }]);\r\n      \r\n      // Track failed query\r\n      trackQuery({\r\n        query: userInput,\r\n        error: true,\r\n        timestamp: new Date().toISOString(),\r\n        responseTime: new Date() - startTime\r\n      });\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Simple function to detect query category based on keywords\r\n  const detectQueryCategory = (query) => {\r\n    const lowercaseQuery = query.toLowerCase();\r\n    if (lowercaseQuery.includes('divorce') || lowercaseQuery.includes('marriage') || \r\n        lowercaseQuery.includes('custody') || lowercaseQuery.includes('alimony')) {\r\n      return 'Family Law';\r\n    } else if (lowercaseQuery.includes('property') || lowercaseQuery.includes('land') || \r\n               lowercaseQuery.includes('rent') || lowercaseQuery.includes('tenant')) {\r\n      return 'Property Law';\r\n    } else if (lowercaseQuery.includes('theft') || lowercaseQuery.includes('murder') || \r\n               lowercaseQuery.includes('bail') || lowercaseQuery.includes('police')) {\r\n      return 'Criminal Law';\r\n    } else if (lowercaseQuery.includes('constitution') || lowercaseQuery.includes('rights') || \r\n               lowercaseQuery.includes('fundamental')) {\r\n      return 'Constitutional Law';\r\n    } else if (lowercaseQuery.includes('company') || lowercaseQuery.includes('business') || \r\n               lowercaseQuery.includes('contract')) {\r\n      return 'Corporate Law';\r\n    } else if (lowercaseQuery.includes('refund') || lowercaseQuery.includes('product') || \r\n               lowercaseQuery.includes('service') || lowercaseQuery.includes('warranty')) {\r\n      return 'Consumer Protection';\r\n    }\r\n    return 'General Legal';\r\n  };\r\n  \r\n  // Recording functionality remains the same\r\n  const startRecording = () => {\r\n    console.log(\"Start recording\");\r\n    setIsRecording(true);\r\n  };\r\n  \r\n  const stopRecording = () => {\r\n    console.log(\"Stop recording\");\r\n    setIsRecording(false);\r\n  };\r\n\r\n  const formatTime = (date) => {\r\n    return new Date(date).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ \r\n      display: 'flex', \r\n      flexDirection: 'column', \r\n      height: 'calc(100vh - 64px)',\r\n      position: 'relative'\r\n    }}>\r\n      {/* Chat header */}\r\n      <Box sx={{ \r\n        p: 2, \r\n        borderBottom: 1, \r\n        borderColor: 'divider', \r\n        display: 'flex', \r\n        justifyContent: 'space-between',\r\n        alignItems: 'center'\r\n      }}>\r\n        <Typography variant=\"h6\">Legal Assistant Chat</Typography>\r\n        <IconButton onClick={handleMenuOpen}>\r\n          <MoreVertIcon />\r\n        </IconButton>\r\n        <Menu\r\n          anchorEl={anchorEl}\r\n          open={Boolean(anchorEl)}\r\n          onClose={handleMenuClose}\r\n        >\r\n          <MenuItem onClick={handleCopyChat}>\r\n            <ContentCopyIcon fontSize=\"small\" sx={{ mr: 1 }} />\r\n            Copy Chat\r\n          </MenuItem>\r\n          <MenuItem onClick={handleClearChat}>\r\n            <Typography color=\"error\">Clear Chat</Typography>\r\n          </MenuItem>\r\n        </Menu>\r\n      </Box>\r\n      \r\n      {/* Suggested queries - now showing all the time */}\r\n      <Box sx={{ \r\n        p: 2, \r\n        mb: 2,\r\n        maxHeight: chat.length > 0 ? '150px' : '200px',\r\n        overflowY: 'auto',\r\n        borderBottom: 1,\r\n        borderColor: 'divider'\r\n      }}>\r\n        <Typography variant=\"subtitle1\" gutterBottom>\r\n          Suggested Legal Queries:\r\n        </Typography>\r\n        <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\r\n          {suggestedQueries.map((query, index) => (\r\n            <Chip \r\n              key={index} \r\n              label={query} \r\n              onClick={() => handleSuggestedQuery(query)} \r\n              clickable \r\n              variant=\"outlined\"\r\n              sx={{ mb: 1 }}\r\n            />\r\n          ))}\r\n        </Box>\r\n      </Box>\r\n\r\n      {/* Chat messages display */}\r\n      <Box sx={{ \r\n        display: 'flex', \r\n        flexDirection: 'column', \r\n        flexGrow: 1, \r\n        overflow: 'auto',\r\n        p: 2,\r\n        gap: 2\r\n      }}>\r\n        {chat.map((msg, index) => (\r\n          <Box \r\n            key={index} \r\n            sx={{ \r\n              display: 'flex', \r\n              flexDirection: 'column',\r\n              alignSelf: msg.sender === 'user' ? 'flex-end' : 'flex-start',\r\n              maxWidth: '80%',\r\n              position: 'relative'\r\n            }}\r\n          >\r\n            <Paper \r\n              elevation={msg.sender === 'user' ? 0 : 1}\r\n              sx={{ \r\n                p: 2,\r\n                borderRadius: 2,\r\n                backgroundColor: msg.sender === 'user' \r\n                  ? theme.palette.primary.light \r\n                  : theme.palette.background.paper,\r\n                color: msg.sender === 'user' ? theme.palette.primary.contrastText : 'inherit',\r\n                border: msg.sender === 'user' ? 'none' : `1px solid ${theme.palette.divider}`\r\n              }}\r\n            >\r\n              {/* Message header */}\r\n              <Box sx={{ \r\n                display: 'flex', \r\n                justifyContent: 'space-between', \r\n                alignItems: 'center', \r\n                mb: 1 \r\n              }}>\r\n                <Typography variant=\"caption\" color={msg.sender === 'user' ? 'inherit' : 'text.secondary'}>\r\n                  {msg.sender === 'user' ? 'You' : 'Legal Assistant'}\r\n                </Typography>\r\n                {msg.timestamp && (\r\n                  <Typography variant=\"caption\" color={msg.sender === 'user' ? 'inherit' : 'text.secondary'}>\r\n                    {formatTime(msg.timestamp)}\r\n                  </Typography>\r\n                )}\r\n              </Box>\r\n              \r\n              <Typography variant=\"body1\">{msg.text}</Typography>\r\n              \r\n              {msg.error && (\r\n                <Typography color=\"error\" variant=\"caption\" sx={{ mt: 1, display: 'block' }}>\r\n                  Please try reformulating your question.\r\n                </Typography>\r\n              )}\r\n              \r\n              {msg.citations && msg.citations.length > 0 && (\r\n                <CitationDisplay citations={msg.citations} />\r\n              )}\r\n              \r\n              {/* Message actions */}\r\n              {msg.sender === 'bot' && (\r\n                <Box sx={{ \r\n                  display: 'flex', \r\n                  justifyContent: 'flex-end', \r\n                  mt: 1,\r\n                  opacity: 0.7,\r\n                  '&:hover': { opacity: 1 }\r\n                }}>\r\n                  <Tooltip title=\"Copy response\">\r\n                    <IconButton \r\n                      size=\"small\" \r\n                      onClick={() => navigator.clipboard.writeText(msg.text)}\r\n                    >\r\n                      <ContentCopyIcon fontSize=\"small\" />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                  <Tooltip title={msg.saved ? \"Unsave message\" : \"Save message\"}>\r\n                    <IconButton \r\n                      size=\"small\" \r\n                      onClick={() => toggleSaveMessage(index)}\r\n                      color={msg.saved ? \"primary\" : \"default\"}\r\n                    >\r\n                      {msg.saved ? <BookmarkIcon fontSize=\"small\" /> : <BookmarkBorderIcon fontSize=\"small\" />}\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                </Box>\r\n              )}\r\n            </Paper>\r\n          </Box>\r\n        ))}\r\n        \r\n        {isLoading && (\r\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, alignSelf: 'flex-start' }}>\r\n            <Paper \r\n              elevation={1}\r\n              sx={{ \r\n                p: 2,\r\n                borderRadius: 2,\r\n                display: 'flex', \r\n                alignItems: 'center', \r\n                gap: 2\r\n              }}\r\n            >\r\n              <CircularProgress size={20} />\r\n              <Typography>Processing your request...</Typography>\r\n            </Paper>\r\n          </Box>\r\n        )}\r\n        \r\n        <div ref={chatEndRef} />\r\n      </Box>\r\n      \r\n      {/* Input area */}\r\n      <Box sx={{ \r\n        p: 2, \r\n        borderTop: 1, \r\n        borderColor: 'divider', \r\n        backgroundColor: theme.palette.background.paper\r\n      }}>\r\n        <Box sx={{ display: 'flex', gap: 1 }}>\r\n          <TextField\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            value={message}\r\n            onChange={(e) => setMessage(e.target.value)}\r\n            placeholder=\"Type your legal question...\"\r\n            onKeyPress={(e) => e.key === 'Enter' && handleSend()}\r\n            InputProps={{\r\n              endAdornment: (\r\n                <InputAdornment position=\"end\">\r\n                  <Tooltip title=\"Attach Document\">\r\n                    <IconButton \r\n                      edge=\"end\" \r\n                      onClick={() => fileInputRef.current?.click()}\r\n                    >\r\n                      <AttachFileIcon />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                  <input\r\n                    type=\"file\"\r\n                    ref={fileInputRef}\r\n                    style={{ display: 'none' }}\r\n                    accept=\".pdf,.doc,.docx,.txt\"\r\n                    onChange={handleFileUpload}\r\n                  />\r\n                </InputAdornment>\r\n              )\r\n            }}\r\n          />\r\n          <IconButton \r\n            color={isRecording ? \"secondary\" : \"primary\"}\r\n            onClick={isRecording ? stopRecording : startRecording}\r\n          >\r\n            <MicIcon />\r\n          </IconButton>\r\n          <Button \r\n            variant=\"contained\" \r\n            endIcon={<SendIcon />} \r\n            onClick={handleSend}\r\n            disabled={isLoading || message.trim() === ''}\r\n          >\r\n            Send\r\n          </Button>\r\n        </Box>\r\n        \r\n        <Box sx={{ display: 'flex', alignItems: 'center', mt: 1, justifyContent: 'space-between' }}>\r\n          <Typography variant=\"caption\" color=\"text.secondary\" sx={{ display: 'flex', alignItems: 'center' }}>\r\n            <HelpOutlineIcon fontSize=\"small\" sx={{ mr: 0.5 }} />\r\n            Ask any legal question about Indian law\r\n          </Typography>\r\n          <Chip \r\n            label=\"AI Powered\" \r\n            size=\"small\" \r\n            color=\"primary\" \r\n            variant=\"outlined\" \r\n            sx={{ height: 24 }}\r\n          />\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Chat;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}