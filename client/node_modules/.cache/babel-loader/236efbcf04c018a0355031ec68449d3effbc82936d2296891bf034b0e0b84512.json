{"ast":null,"code":"var _jsxFileName = \"D:\\\\Legal Assistant for Indian Laws\\\\client\\\\src\\\\components\\\\Chat.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Box, TextField, Button, Typography, Paper, List, ListItem, Divider, Avatar, CircularProgress, useTheme, Container, IconButton, Fade, Zoom, Tooltip, Snackbar, Alert } from '@mui/material';\nimport SendIcon from '@mui/icons-material/Send';\nimport SmartToyIcon from '@mui/icons-material/SmartToy';\nimport PersonIcon from '@mui/icons-material/Person';\nimport GavelIcon from '@mui/icons-material/Gavel';\nimport DeleteOutlineIcon from '@mui/icons-material/DeleteOutline';\nimport ContentCopyIcon from '@mui/icons-material/ContentCopy';\nimport api from '../services/api';\nimport geminiService from '../services/geminiService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Chat = () => {\n  _s();\n  const theme = useTheme();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const messagesEndRef = useRef(null);\n  const [copiedMessage, setCopiedMessage] = useState(null);\n  const [errorMsg, setErrorMsg] = useState(null);\n\n  // Load chat history from localStorage on component mount\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    try {\n      const savedMessages = localStorage.getItem('chatHistory');\n      if (savedMessages) {\n        const parsedMessages = JSON.parse(savedMessages);\n        setMessages(parsedMessages.map(msg => ({\n          ...msg,\n          timestamp: new Date(msg.timestamp)\n        })));\n      }\n    } catch (err) {\n      console.error('Error loading chat history:', err);\n    }\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, []);\n\n  // Save messages to localStorage when they change\n  useEffect(() => {\n    try {\n      localStorage.setItem('chatHistory', JSON.stringify(messages));\n    } catch (err) {\n      console.error('Error saving chat history:', err);\n    }\n  }, [messages]);\n\n  // Auto-scroll to bottom when messages change\n  useEffect(() => {\n    var _messagesEndRef$curre2;\n    (_messagesEndRef$curre2 = messagesEndRef.current) === null || _messagesEndRef$curre2 === void 0 ? void 0 : _messagesEndRef$curre2.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n  const handleClearChat = () => {\n    setMessages([]);\n    localStorage.removeItem('chatHistory');\n  };\n  const copyToClipboard = (text, id) => {\n    navigator.clipboard.writeText(text);\n    setCopiedMessage(id);\n    setTimeout(() => setCopiedMessage(null), 2000);\n  };\n  const handleSend = async () => {\n    if (input.trim() === '') return;\n    const userMessage = {\n      text: input,\n      sender: 'user',\n      timestamp: new Date()\n    };\n    setMessages(prevMessages => [...prevMessages, userMessage]);\n    setInput('');\n    setIsLoading(true);\n    setErrorMsg(null);\n    try {\n      // Use Gemini API service with fallback mechanism\n      const response = await geminiService.generateResponse(input);\n\n      // Check if we're using a fallback response\n      const isFallback = response.isFallback;\n      const botMessage = {\n        text: response.answer,\n        sender: 'bot',\n        timestamp: new Date(),\n        citations: response.citations,\n        confidence: response.confidence,\n        isFallback: isFallback\n      };\n      setMessages(prevMessages => [...prevMessages, botMessage]);\n\n      // Show a notification if using fallback mode\n      if (isFallback) {\n        setErrorMsg(\"Using offline mode due to API limitations. Responses may be less specific.\");\n      }\n    } catch (error) {\n      console.error('Error processing response:', error);\n\n      // Show error message as a snackbar\n      setErrorMsg(`Error: ${error.message || 'Failed to get response'}`);\n\n      // Add error message to chat\n      const errorMessage = {\n        text: `Sorry, I encountered an error while processing your query. Please try again in a moment.`,\n        sender: 'bot',\n        timestamp: new Date(),\n        isError: true\n      };\n      setMessages(prevMessages => [...prevMessages, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n  const TypingIndicator = () => /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      alignItems: 'center',\n      mt: 1\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        width: 10,\n        height: 10,\n        borderRadius: '50%',\n        bgcolor: theme.palette.primary.main,\n        animation: 'pulse 1s infinite',\n        animationDelay: '0s',\n        mx: 0.5,\n        '@keyframes pulse': {\n          '0%, 100%': {\n            opacity: 0.5,\n            transform: 'scale(0.8)'\n          },\n          '50%': {\n            opacity: 1,\n            transform: 'scale(1)'\n          }\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        width: 10,\n        height: 10,\n        borderRadius: '50%',\n        bgcolor: theme.palette.primary.main,\n        animation: 'pulse 1s infinite',\n        animationDelay: '0.2s',\n        mx: 0.5\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        width: 10,\n        height: 10,\n        borderRadius: '50%',\n        bgcolor: theme.palette.primary.main,\n        animation: 'pulse 1s infinite',\n        animationDelay: '0.4s',\n        mx: 0.5\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    sx: {\n      height: '100%',\n      py: 3\n    },\n    children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n      open: Boolean(errorMsg),\n      autoHideDuration: 6000,\n      onClose: () => setErrorMsg(null),\n      anchorOrigin: {\n        vertical: 'top',\n        horizontal: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        onClose: () => setErrorMsg(null),\n        children: errorMsg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      sx: {\n        display: 'flex',\n        flexDirection: 'column',\n        height: 'calc(100vh - 100px)',\n        borderRadius: 3,\n        overflow: 'hidden',\n        boxShadow: '0 10px 40px rgba(0,0,0,0.1)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          p: 2,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-between',\n          borderBottom: '1px solid',\n          borderColor: 'divider',\n          bgcolor: theme.palette.primary.main,\n          color: 'white'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            sx: {\n              bgcolor: 'rgba(255,255,255,0.2)',\n              mr: 1,\n              width: 40,\n              height: 40\n            },\n            children: /*#__PURE__*/_jsxDEV(GavelIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            children: \"Legal Assistant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"Clear chat\",\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            color: \"inherit\",\n            onClick: handleClearChat,\n            sx: {\n              opacity: 0.8,\n              '&:hover': {\n                opacity: 1\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(DeleteOutlineIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          flexGrow: 1,\n          p: 3,\n          overflowY: 'auto',\n          bgcolor: theme.palette.mode === 'dark' ? 'rgba(0,0,0,0.03)' : 'rgba(67, 97, 238, 0.03)'\n        },\n        children: messages.length === 0 ? /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'center',\n            alignItems: 'center',\n            height: '100%',\n            textAlign: 'center',\n            opacity: 0.7\n          },\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            sx: {\n              bgcolor: theme.palette.primary.main,\n              width: 70,\n              height: 70,\n              mb: 2,\n              boxShadow: '0 4px 20px rgba(67, 97, 238, 0.2)'\n            },\n            children: /*#__PURE__*/_jsxDEV(SmartToyIcon, {\n              sx: {\n                fontSize: 40\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            sx: {\n              mb: 1,\n              fontWeight: 500\n            },\n            children: \"Legal Assistant for Indian Laws\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            sx: {\n              maxWidth: 400\n            },\n            children: \"Ask any question about Indian laws, sections, or legal procedures. I'm here to provide accurate and helpful information.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(List, {\n          sx: {\n            px: {\n              xs: 0,\n              sm: 2\n            }\n          },\n          children: [messages.map((message, index) => /*#__PURE__*/_jsxDEV(Zoom, {\n            in: true,\n            style: {\n              transitionDelay: `${index * 100}ms`,\n              transformOrigin: message.sender === 'user' ? 'right' : 'left'\n            },\n            children: /*#__PURE__*/_jsxDEV(ListItem, {\n              sx: {\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: message.sender === 'user' ? 'flex-end' : 'flex-start',\n                mb: 2,\n                px: 0\n              },\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  alignItems: 'flex-start',\n                  width: '100%',\n                  mb: 0.5\n                },\n                children: [message.sender !== 'user' && /*#__PURE__*/_jsxDEV(Avatar, {\n                  sx: {\n                    bgcolor: message.isError ? 'error.main' : theme.palette.primary.main,\n                    width: 32,\n                    height: 32,\n                    mr: 1,\n                    mt: 0.5\n                  },\n                  children: /*#__PURE__*/_jsxDEV(SmartToyIcon, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Paper, {\n                  elevation: 1,\n                  sx: {\n                    p: {\n                      xs: 1.5,\n                      sm: 2\n                    },\n                    maxWidth: {\n                      xs: '90%',\n                      sm: '75%'\n                    },\n                    bgcolor: message.sender === 'user' ? `linear-gradient(135deg, ${theme.palette.primary.main}, ${theme.palette.primary.dark})` : message.isError ? 'rgba(244, 67, 54, 0.08)' : 'background.paper',\n                    color: message.sender === 'user' ? 'white' : 'text.primary',\n                    borderRadius: message.sender === 'user' ? '20px 20px 5px 20px' : '20px 20px 20px 5px',\n                    boxShadow: message.sender === 'user' ? '0 5px 15px rgba(67, 97, 238, 0.2)' : '0 2px 10px rgba(0, 0, 0, 0.05)',\n                    ml: message.sender === 'user' ? 'auto' : 0,\n                    position: 'relative',\n                    '&:hover .message-actions': {\n                      opacity: 1\n                    }\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body1\",\n                    sx: {\n                      wordBreak: 'break-word'\n                    },\n                    children: message.text\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 338,\n                    columnNumber: 25\n                  }, this), message.citations && message.citations.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      mt: 2,\n                      pt: 2,\n                      borderTop: '1px solid',\n                      borderColor: 'divider'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"subtitle2\",\n                      gutterBottom: true,\n                      sx: {\n                        fontSize: '0.85rem',\n                        fontWeight: 600\n                      },\n                      children: \"Citations:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 344,\n                      columnNumber: 29\n                    }, this), message.citations.map((cite, i) => /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      sx: {\n                        ml: 1,\n                        fontSize: '0.8rem',\n                        borderLeft: `2px solid ${theme.palette.primary.main}`,\n                        pl: 1,\n                        mb: 0.5\n                      },\n                      children: [cite.code, \" Section \", cite.section]\n                    }, i, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 348,\n                      columnNumber: 31\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 343,\n                    columnNumber: 27\n                  }, this), message.confidence && /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"caption\",\n                    sx: {\n                      display: 'block',\n                      mt: 1,\n                      opacity: 0.7,\n                      fontSize: '0.75rem'\n                    },\n                    children: [\"Confidence: \", message.confidence.toFixed(1), \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 366,\n                    columnNumber: 27\n                  }, this), message.sender !== 'user' && /*#__PURE__*/_jsxDEV(Box, {\n                    className: \"message-actions\",\n                    sx: {\n                      position: 'absolute',\n                      top: 8,\n                      right: 8,\n                      opacity: 0,\n                      transition: 'opacity 0.2s'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                      title: copiedMessage === index ? \"Copied!\" : \"Copy\",\n                      children: /*#__PURE__*/_jsxDEV(IconButton, {\n                        size: \"small\",\n                        onClick: () => copyToClipboard(message.text, index),\n                        sx: {\n                          p: 0.5,\n                          bgcolor: 'background.paper',\n                          boxShadow: '0 2px 5px rgba(0,0,0,0.1)'\n                        },\n                        children: /*#__PURE__*/_jsxDEV(ContentCopyIcon, {\n                          fontSize: \"small\",\n                          sx: {\n                            fontSize: '0.9rem'\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 400,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 391,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 390,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 23\n                }, this), message.sender === 'user' && /*#__PURE__*/_jsxDEV(Avatar, {\n                  sx: {\n                    bgcolor: theme.palette.secondary.main,\n                    width: 32,\n                    height: 32,\n                    ml: 1,\n                    mt: 0.5\n                  },\n                  children: /*#__PURE__*/_jsxDEV(PersonIcon, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 417,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                sx: {\n                  opacity: 0.6,\n                  fontSize: '0.7rem',\n                  mr: message.sender === 'user' ? 4 : 0,\n                  ml: message.sender === 'user' ? 0 : 4\n                },\n                children: new Date(message.timestamp).toLocaleTimeString([], {\n                  hour: '2-digit',\n                  minute: '2-digit'\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 19\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 17\n          }, this)), isLoading && /*#__PURE__*/_jsxDEV(ListItem, {\n            sx: {\n              display: 'flex',\n              alignItems: 'flex-start',\n              mb: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Avatar, {\n              sx: {\n                bgcolor: theme.palette.primary.main,\n                width: 32,\n                height: 32,\n                mr: 1\n              },\n              children: /*#__PURE__*/_jsxDEV(SmartToyIcon, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Paper, {\n              elevation: 1,\n              sx: {\n                p: 2,\n                borderRadius: '20px 20px 20px 5px',\n                display: 'inline-flex',\n                alignItems: 'center'\n              },\n              children: /*#__PURE__*/_jsxDEV(TypingIndicator, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            ref: messagesEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          p: 2,\n          borderTop: '1px solid',\n          borderColor: 'divider',\n          bgcolor: theme.palette.background.paper\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'flex-end',\n            position: 'relative'\n          },\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            variant: \"outlined\",\n            placeholder: \"Ask about Indian laws...\",\n            value: input,\n            onChange: e => setInput(e.target.value),\n            onKeyPress: handleKeyPress,\n            disabled: isLoading,\n            multiline: true,\n            maxRows: 4,\n            sx: {\n              mr: 1,\n              '& .MuiOutlinedInput-root': {\n                borderRadius: 3,\n                pr: 5,\n                backgroundColor: theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.05)' : 'rgba(0,0,0,0.03)'\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: handleSend,\n            disabled: isLoading || input.trim() === '',\n            sx: {\n              position: 'absolute',\n              right: 8,\n              bottom: 8,\n              minWidth: 'unset',\n              width: 40,\n              height: 40,\n              borderRadius: '50%',\n              p: 0\n            },\n            children: isLoading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n              size: 20,\n              color: \"inherit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(SendIcon, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 520,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"caption\",\n          align: \"center\",\n          sx: {\n            display: 'block',\n            mt: 1,\n            opacity: 0.5,\n            fontSize: '0.7rem'\n          },\n          children: \"Ask any legal question. This assistant provides informational guidance only, not legal advice.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 178,\n    columnNumber: 5\n  }, this);\n};\n_s(Chat, \"1zS92MTdqoqCP6L16IV0/3104Qg=\", false, function () {\n  return [useTheme];\n});\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Box","TextField","Button","Typography","Paper","List","ListItem","Divider","Avatar","CircularProgress","useTheme","Container","IconButton","Fade","Zoom","Tooltip","Snackbar","Alert","SendIcon","SmartToyIcon","PersonIcon","GavelIcon","DeleteOutlineIcon","ContentCopyIcon","api","geminiService","jsxDEV","_jsxDEV","Chat","_s","theme","messages","setMessages","input","setInput","isLoading","setIsLoading","messagesEndRef","copiedMessage","setCopiedMessage","errorMsg","setErrorMsg","_messagesEndRef$curre","savedMessages","localStorage","getItem","parsedMessages","JSON","parse","map","msg","timestamp","Date","err","console","error","current","scrollIntoView","behavior","setItem","stringify","_messagesEndRef$curre2","handleClearChat","removeItem","copyToClipboard","text","id","navigator","clipboard","writeText","setTimeout","handleSend","trim","userMessage","sender","prevMessages","response","generateResponse","isFallback","botMessage","answer","citations","confidence","message","errorMessage","isError","handleKeyPress","e","key","shiftKey","preventDefault","TypingIndicator","sx","display","alignItems","mt","children","width","height","borderRadius","bgcolor","palette","primary","main","animation","animationDelay","mx","opacity","transform","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","py","open","Boolean","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","severity","elevation","flexDirection","overflow","boxShadow","p","justifyContent","borderBottom","borderColor","color","mr","variant","title","onClick","flexGrow","overflowY","mode","length","textAlign","mb","fontSize","fontWeight","px","xs","sm","index","in","style","transitionDelay","transformOrigin","dark","ml","position","wordBreak","pt","borderTop","gutterBottom","cite","i","borderLeft","pl","code","section","toFixed","className","top","right","transition","size","secondary","toLocaleTimeString","hour","minute","ref","background","paper","fullWidth","placeholder","value","onChange","target","onKeyPress","disabled","multiline","maxRows","pr","backgroundColor","bottom","minWidth","align","_c","$RefreshReg$"],"sources":["D:/Legal Assistant for Indian Laws/client/src/components/Chat.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { \r\n  Box, \r\n  TextField, \r\n  Button, \r\n  Typography, \r\n  Paper, \r\n  List, \r\n  ListItem, \r\n  Divider,\r\n  Avatar,\r\n  CircularProgress,\r\n  useTheme,\r\n  Container,\r\n  IconButton,\r\n  Fade,\r\n  Zoom,\r\n  Tooltip,\r\n  Snackbar,\r\n  Alert\r\n} from '@mui/material';\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport SmartToyIcon from '@mui/icons-material/SmartToy';\r\nimport PersonIcon from '@mui/icons-material/Person';\r\nimport GavelIcon from '@mui/icons-material/Gavel';\r\nimport DeleteOutlineIcon from '@mui/icons-material/DeleteOutline';\r\nimport ContentCopyIcon from '@mui/icons-material/ContentCopy';\r\nimport api from '../services/api';\r\nimport geminiService from '../services/geminiService';\r\n\r\nconst Chat = () => {\r\n  const theme = useTheme();\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n  const [copiedMessage, setCopiedMessage] = useState(null);\r\n  const [errorMsg, setErrorMsg] = useState(null);\r\n\r\n  // Load chat history from localStorage on component mount\r\n  useEffect(() => {\r\n    try {\r\n      const savedMessages = localStorage.getItem('chatHistory');\r\n      if (savedMessages) {\r\n        const parsedMessages = JSON.parse(savedMessages);\r\n        setMessages(parsedMessages.map(msg => ({\r\n          ...msg,\r\n          timestamp: new Date(msg.timestamp)\r\n        })));\r\n      }\r\n    } catch (err) {\r\n      console.error('Error loading chat history:', err);\r\n    }\r\n    \r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, []);\r\n\r\n  // Save messages to localStorage when they change\r\n  useEffect(() => {\r\n    try {\r\n      localStorage.setItem('chatHistory', JSON.stringify(messages));\r\n    } catch (err) {\r\n      console.error('Error saving chat history:', err);\r\n    }\r\n  }, [messages]);\r\n\r\n  // Auto-scroll to bottom when messages change\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  const handleClearChat = () => {\r\n    setMessages([]);\r\n    localStorage.removeItem('chatHistory');\r\n  };\r\n\r\n  const copyToClipboard = (text, id) => {\r\n    navigator.clipboard.writeText(text);\r\n    setCopiedMessage(id);\r\n    setTimeout(() => setCopiedMessage(null), 2000);\r\n  };\r\n\r\n  const handleSend = async () => {\r\n    if (input.trim() === '') return;\r\n\r\n    const userMessage = { text: input, sender: 'user', timestamp: new Date() };\r\n    setMessages(prevMessages => [...prevMessages, userMessage]);\r\n    setInput('');\r\n    setIsLoading(true);\r\n    setErrorMsg(null);\r\n\r\n    try {\r\n      // Use Gemini API service with fallback mechanism\r\n      const response = await geminiService.generateResponse(input);\r\n      \r\n      // Check if we're using a fallback response\r\n      const isFallback = response.isFallback;\r\n      \r\n      const botMessage = { \r\n        text: response.answer, \r\n        sender: 'bot', \r\n        timestamp: new Date(),\r\n        citations: response.citations,\r\n        confidence: response.confidence,\r\n        isFallback: isFallback\r\n      };\r\n      \r\n      setMessages(prevMessages => [...prevMessages, botMessage]);\r\n      \r\n      // Show a notification if using fallback mode\r\n      if (isFallback) {\r\n        setErrorMsg(\"Using offline mode due to API limitations. Responses may be less specific.\");\r\n      }\r\n    } catch (error) {\r\n      console.error('Error processing response:', error);\r\n      \r\n      // Show error message as a snackbar\r\n      setErrorMsg(`Error: ${error.message || 'Failed to get response'}`);\r\n      \r\n      // Add error message to chat\r\n      const errorMessage = { \r\n        text: `Sorry, I encountered an error while processing your query. Please try again in a moment.`, \r\n        sender: 'bot', \r\n        timestamp: new Date(),\r\n        isError: true\r\n      };\r\n      \r\n      setMessages(prevMessages => [...prevMessages, errorMessage]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSend();\r\n    }\r\n  };\r\n\r\n  const TypingIndicator = () => (\r\n    <Box sx={{ display: 'flex', alignItems: 'center', mt: 1 }}>\r\n      <Box sx={{ \r\n        width: 10, \r\n        height: 10, \r\n        borderRadius: '50%', \r\n        bgcolor: theme.palette.primary.main,\r\n        animation: 'pulse 1s infinite',\r\n        animationDelay: '0s',\r\n        mx: 0.5,\r\n        '@keyframes pulse': {\r\n          '0%, 100%': { opacity: 0.5, transform: 'scale(0.8)' },\r\n          '50%': { opacity: 1, transform: 'scale(1)' },\r\n        }\r\n      }} />\r\n      <Box sx={{ \r\n        width: 10, \r\n        height: 10, \r\n        borderRadius: '50%', \r\n        bgcolor: theme.palette.primary.main,\r\n        animation: 'pulse 1s infinite',\r\n        animationDelay: '0.2s',\r\n        mx: 0.5\r\n      }} />\r\n      <Box sx={{ \r\n        width: 10, \r\n        height: 10, \r\n        borderRadius: '50%', \r\n        bgcolor: theme.palette.primary.main,\r\n        animation: 'pulse 1s infinite',\r\n        animationDelay: '0.4s',\r\n        mx: 0.5\r\n      }} />\r\n    </Box>\r\n  );\r\n\r\n  return (\r\n    <Container maxWidth=\"md\" sx={{ height: '100%', py: 3 }}>\r\n      <Snackbar \r\n        open={Boolean(errorMsg)} \r\n        autoHideDuration={6000} \r\n        onClose={() => setErrorMsg(null)}\r\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n      >\r\n        <Alert severity=\"error\" onClose={() => setErrorMsg(null)}>\r\n          {errorMsg}\r\n        </Alert>\r\n      </Snackbar>\r\n\r\n      <Paper \r\n        elevation={3} \r\n        sx={{ \r\n          display: 'flex', \r\n          flexDirection: 'column', \r\n          height: 'calc(100vh - 100px)',\r\n          borderRadius: 3,\r\n          overflow: 'hidden',\r\n          boxShadow: '0 10px 40px rgba(0,0,0,0.1)'\r\n        }}\r\n      >\r\n        <Box \r\n          sx={{ \r\n            p: 2, \r\n            display: 'flex', \r\n            alignItems: 'center', \r\n            justifyContent: 'space-between',\r\n            borderBottom: '1px solid',\r\n            borderColor: 'divider',\r\n            bgcolor: theme.palette.primary.main,\r\n            color: 'white'\r\n          }}\r\n        >\r\n          <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n            <Avatar \r\n              sx={{ \r\n                bgcolor: 'rgba(255,255,255,0.2)', \r\n                mr: 1,\r\n                width: 40,\r\n                height: 40\r\n              }}\r\n            >\r\n              <GavelIcon />\r\n            </Avatar>\r\n            <Typography variant=\"h6\">\r\n              Legal Assistant\r\n            </Typography>\r\n          </Box>\r\n          \r\n          <Tooltip title=\"Clear chat\">\r\n            <IconButton \r\n              color=\"inherit\" \r\n              onClick={handleClearChat}\r\n              sx={{ opacity: 0.8, '&:hover': { opacity: 1 } }}\r\n            >\r\n              <DeleteOutlineIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n        </Box>\r\n\r\n        <Box \r\n          sx={{ \r\n            flexGrow: 1, \r\n            p: 3, \r\n            overflowY: 'auto',\r\n            bgcolor: theme.palette.mode === 'dark' ? 'rgba(0,0,0,0.03)' : 'rgba(67, 97, 238, 0.03)'\r\n          }}\r\n        >\r\n          {messages.length === 0 ? (\r\n            <Box \r\n              sx={{ \r\n                display: 'flex', \r\n                flexDirection: 'column',\r\n                justifyContent: 'center', \r\n                alignItems: 'center', \r\n                height: '100%',\r\n                textAlign: 'center',\r\n                opacity: 0.7\r\n              }}\r\n            >\r\n              <Avatar \r\n                sx={{ \r\n                  bgcolor: theme.palette.primary.main, \r\n                  width: 70, \r\n                  height: 70, \r\n                  mb: 2,\r\n                  boxShadow: '0 4px 20px rgba(67, 97, 238, 0.2)'\r\n                }}\r\n              >\r\n                <SmartToyIcon sx={{ fontSize: 40 }} />\r\n              </Avatar>\r\n              <Typography variant=\"h6\" sx={{ mb: 1, fontWeight: 500 }}>\r\n                Legal Assistant for Indian Laws\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ maxWidth: 400 }}>\r\n                Ask any question about Indian laws, sections, or legal procedures. \r\n                I'm here to provide accurate and helpful information.\r\n              </Typography>\r\n            </Box>\r\n          ) : (\r\n            <List sx={{ px: { xs: 0, sm: 2 } }}>\r\n              {messages.map((message, index) => (\r\n                <Zoom \r\n                  in={true} \r\n                  key={index} \r\n                  style={{ \r\n                    transitionDelay: `${index * 100}ms`,\r\n                    transformOrigin: message.sender === 'user' ? 'right' : 'left'\r\n                  }}\r\n                >\r\n                  <ListItem \r\n                    sx={{ \r\n                      display: 'flex', \r\n                      flexDirection: 'column', \r\n                      alignItems: message.sender === 'user' ? 'flex-end' : 'flex-start',\r\n                      mb: 2,\r\n                      px: 0\r\n                    }}\r\n                  >\r\n                    <Box sx={{ display: 'flex', alignItems: 'flex-start', width: '100%', mb: 0.5 }}>\r\n                      {message.sender !== 'user' && (\r\n                        <Avatar \r\n                          sx={{ \r\n                            bgcolor: message.isError ? 'error.main' : theme.palette.primary.main,\r\n                            width: 32,\r\n                            height: 32,\r\n                            mr: 1,\r\n                            mt: 0.5\r\n                          }}\r\n                        >\r\n                          <SmartToyIcon fontSize=\"small\" />\r\n                        </Avatar>\r\n                      )}\r\n                      \r\n                      <Paper \r\n                        elevation={1}\r\n                        sx={{ \r\n                          p: { xs: 1.5, sm: 2 }, \r\n                          maxWidth: { xs: '90%', sm: '75%' },\r\n                          bgcolor: message.sender === 'user' \r\n                            ? `linear-gradient(135deg, ${theme.palette.primary.main}, ${theme.palette.primary.dark})`\r\n                            : message.isError\r\n                              ? 'rgba(244, 67, 54, 0.08)'\r\n                              : 'background.paper',\r\n                          color: message.sender === 'user' ? 'white' : 'text.primary',\r\n                          borderRadius: message.sender === 'user' \r\n                            ? '20px 20px 5px 20px' \r\n                            : '20px 20px 20px 5px',\r\n                          boxShadow: message.sender === 'user'\r\n                            ? '0 5px 15px rgba(67, 97, 238, 0.2)'\r\n                            : '0 2px 10px rgba(0, 0, 0, 0.05)',\r\n                          ml: message.sender === 'user' ? 'auto' : 0,\r\n                          position: 'relative',\r\n                          '&:hover .message-actions': {\r\n                            opacity: 1,\r\n                          }\r\n                        }}\r\n                      >\r\n                        <Typography variant=\"body1\" sx={{ wordBreak: 'break-word' }}>\r\n                          {message.text}\r\n                        </Typography>\r\n                        \r\n                        {message.citations && message.citations.length > 0 && (\r\n                          <Box sx={{ mt: 2, pt: 2, borderTop: '1px solid', borderColor: 'divider' }}>\r\n                            <Typography variant=\"subtitle2\" gutterBottom sx={{ fontSize: '0.85rem', fontWeight: 600 }}>\r\n                              Citations:\r\n                            </Typography>\r\n                            {message.citations.map((cite, i) => (\r\n                              <Typography \r\n                                key={i} \r\n                                variant=\"body2\" \r\n                                sx={{ \r\n                                  ml: 1, \r\n                                  fontSize: '0.8rem',\r\n                                  borderLeft: `2px solid ${theme.palette.primary.main}`,\r\n                                  pl: 1,\r\n                                  mb: 0.5\r\n                                }}\r\n                              >\r\n                                {cite.code} Section {cite.section}\r\n                              </Typography>\r\n                            ))}\r\n                          </Box>\r\n                        )}\r\n                        \r\n                        {message.confidence && (\r\n                          <Typography \r\n                            variant=\"caption\" \r\n                            sx={{ \r\n                              display: 'block', \r\n                              mt: 1, \r\n                              opacity: 0.7,\r\n                              fontSize: '0.75rem'\r\n                            }}\r\n                          >\r\n                            Confidence: {message.confidence.toFixed(1)}%\r\n                          </Typography>\r\n                        )}\r\n                        \r\n                        {message.sender !== 'user' && (\r\n                          <Box \r\n                            className=\"message-actions\"\r\n                            sx={{ \r\n                              position: 'absolute',\r\n                              top: 8,\r\n                              right: 8,\r\n                              opacity: 0,\r\n                              transition: 'opacity 0.2s',\r\n                            }}\r\n                          >\r\n                            <Tooltip title={copiedMessage === index ? \"Copied!\" : \"Copy\"}>\r\n                              <IconButton \r\n                                size=\"small\" \r\n                                onClick={() => copyToClipboard(message.text, index)}\r\n                                sx={{ \r\n                                  p: 0.5,\r\n                                  bgcolor: 'background.paper',\r\n                                  boxShadow: '0 2px 5px rgba(0,0,0,0.1)'\r\n                                }}\r\n                              >\r\n                                <ContentCopyIcon fontSize=\"small\" sx={{ fontSize: '0.9rem' }} />\r\n                              </IconButton>\r\n                            </Tooltip>\r\n                          </Box>\r\n                        )}\r\n                      </Paper>\r\n                      \r\n                      {message.sender === 'user' && (\r\n                        <Avatar \r\n                          sx={{ \r\n                            bgcolor: theme.palette.secondary.main,\r\n                            width: 32,\r\n                            height: 32,\r\n                            ml: 1,\r\n                            mt: 0.5\r\n                          }}\r\n                        >\r\n                          <PersonIcon fontSize=\"small\" />\r\n                        </Avatar>\r\n                      )}\r\n                    </Box>\r\n                    \r\n                    <Typography \r\n                      variant=\"caption\" \r\n                      sx={{ \r\n                        opacity: 0.6, \r\n                        fontSize: '0.7rem',\r\n                        mr: message.sender === 'user' ? 4 : 0,\r\n                        ml: message.sender === 'user' ? 0 : 4,\r\n                      }}\r\n                    >\r\n                      {new Date(message.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                    </Typography>\r\n                  </ListItem>\r\n                </Zoom>\r\n              ))}\r\n              \r\n              {isLoading && (\r\n                <ListItem sx={{ display: 'flex', alignItems: 'flex-start', mb: 2 }}>\r\n                  <Avatar \r\n                    sx={{ \r\n                      bgcolor: theme.palette.primary.main,\r\n                      width: 32,\r\n                      height: 32,\r\n                      mr: 1\r\n                    }}\r\n                  >\r\n                    <SmartToyIcon fontSize=\"small\" />\r\n                  </Avatar>\r\n                  <Paper \r\n                    elevation={1}\r\n                    sx={{ \r\n                      p: 2, \r\n                      borderRadius: '20px 20px 20px 5px',\r\n                      display: 'inline-flex',\r\n                      alignItems: 'center'\r\n                    }}\r\n                  >\r\n                    <TypingIndicator />\r\n                  </Paper>\r\n                </ListItem>\r\n              )}\r\n              \r\n              <Box ref={messagesEndRef} />\r\n            </List>\r\n          )}\r\n        </Box>\r\n\r\n        <Box \r\n          sx={{ \r\n            p: 2, \r\n            borderTop: '1px solid', \r\n            borderColor: 'divider',\r\n            bgcolor: theme.palette.background.paper\r\n          }}\r\n        >\r\n          <Box \r\n            sx={{ \r\n              display: 'flex', \r\n              alignItems: 'flex-end',\r\n              position: 'relative'\r\n            }}\r\n          >\r\n            <TextField\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              placeholder=\"Ask about Indian laws...\"\r\n              value={input}\r\n              onChange={(e) => setInput(e.target.value)}\r\n              onKeyPress={handleKeyPress}\r\n              disabled={isLoading}\r\n              multiline\r\n              maxRows={4}\r\n              sx={{ \r\n                mr: 1,\r\n                '& .MuiOutlinedInput-root': {\r\n                  borderRadius: 3,\r\n                  pr: 5,\r\n                  backgroundColor: theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.05)' : 'rgba(0,0,0,0.03)',\r\n                }\r\n              }}\r\n            />\r\n            <Button \r\n              variant=\"contained\" \r\n              color=\"primary\"\r\n              onClick={handleSend}\r\n              disabled={isLoading || input.trim() === ''}\r\n              sx={{ \r\n                position: 'absolute',\r\n                right: 8,\r\n                bottom: 8,\r\n                minWidth: 'unset',\r\n                width: 40,\r\n                height: 40,\r\n                borderRadius: '50%',\r\n                p: 0\r\n              }}\r\n            >\r\n              {isLoading ? \r\n                <CircularProgress size={20} color=\"inherit\" /> : \r\n                <SendIcon fontSize=\"small\" />\r\n              }\r\n            </Button>\r\n          </Box>\r\n          \r\n          <Typography \r\n            variant=\"caption\" \r\n            align=\"center\" \r\n            sx={{ \r\n              display: 'block', \r\n              mt: 1, \r\n              opacity: 0.5,\r\n              fontSize: '0.7rem'\r\n            }}\r\n          >\r\n            Ask any legal question. This assistant provides informational guidance only, not legal advice.\r\n          </Typography>\r\n        </Box>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}